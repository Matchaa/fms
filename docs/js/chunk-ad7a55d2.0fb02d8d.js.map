{"version":3,"sources":["webpack:///./src/views/basicConfig/customerInfo/index.vue?c51f","webpack:///src/views/basicConfig/customerInfo/index.vue","webpack:///./src/views/basicConfig/customerInfo/index.vue?428a","webpack:///./src/views/basicConfig/customerInfo/index.vue","webpack:///./src/views/basicConfig/customerInfo/index.vue?98a9"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","searchTableData","model","value","form","callback","$$v","$set","expression","onAddClick","_v","tableData","_l","header","key","name","title","width","scopedSlots","_u","fn","scope","_s","row","$event","onEditClick","onDeleteClick","currentPage","pageSize","total","onSizeChange","onCurrentChange","ref","reFindTableData","staticRenderFns","data","phone","tableHeader","computed","mounted","methods","$db","$refs","addDialog","show","detail","deleteData","id","then","components","component"],"mappings":"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","file":"js/chunk-ad7a55d2.0fb02d8d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-form',{staticClass:\"form\",attrs:{\"inline\":true}},[_c('el-form-item',{attrs:{\"label\":\"客户名称\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入客户名称\"},on:{\"change\":_vm.searchTableData},model:{value:(_vm.form.name),callback:function ($$v) {_vm.$set(_vm.form, \"name\", $$v)},expression:\"form.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"客户号码\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入客户号码\"},on:{\"change\":_vm.searchTableData},model:{value:(_vm.form.phone),callback:function ($$v) {_vm.$set(_vm.form, \"phone\", $$v)},expression:\"form.phone\"}})],1),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onAddClick}},[_vm._v(\"新增\")])],1),_c('el-table',{staticClass:\"table\",attrs:{\"data\":_vm.tableData,\"height\":\"500px\"}},[_vm._l((_vm.tableHeader),function(header){return _c('el-table-column',{key:header.name,attrs:{\"prop\":header.name,\"label\":header.title,\"width\":header.width||''},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(scope.row[header.name]||'--'))])]}}],null,true)})}),_c('el-table-column',{attrs:{\"width\":\"150px\",\"label\":\"操作\",\"fixed\":\"right\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\"},on:{\"click\":function($event){return _vm.onEditClick(scope.row)}}},[_vm._v(\"编辑\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.onDeleteClick(scope.row)}}},[_vm._v(\"删除\")])]}}])})],2),_c('el-pagination',{staticClass:\"page\",attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":[50, 100, 200, 400],\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.onSizeChange,\"current-change\":_vm.onCurrentChange}}),_c('add-dialog',{ref:\"addDialog\",on:{\"success\":_vm.reFindTableData}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--客户信息-->\n<template>\n  <div>\n    <el-form class=\"form\"\n      :inline=\"true\">\n      <el-form-item label=\"客户名称\">\n        <el-input v-model=\"form.name\"\n          placeholder=\"请输入客户名称\"\n          @change=\"searchTableData\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"客户号码\">\n        <el-input v-model=\"form.phone\"\n          placeholder=\"请输入客户号码\"\n          @change=\"searchTableData\"></el-input>\n      </el-form-item>\n      <el-button type=\"primary\"\n        @click=\"onAddClick\">新增</el-button>\n\n    </el-form>\n    <el-table class=\"table\"\n      :data=\"tableData\"\n      height=\"500px\">\n      <el-table-column v-for=\"header in tableHeader\"\n        :key=\"header.name\"\n        :prop=\"header.name\"\n        :label=\"header.title\"\n        :width=\"header.width||''\">\n        <template slot-scope=\"scope\">\n          <span>{{scope.row[header.name]||'--'}}</span>\n        </template>\n      </el-table-column>\n      <el-table-column width=\"150px\"\n        label=\"操作\"\n        fixed=\"right\">\n        <template slot-scope=\"scope\">\n          <el-button size=\"mini\"\n            @click=\"onEditClick(scope.row)\">编辑</el-button>\n          <el-button size=\"mini\"\n            type=\"danger\"\n            @click=\"onDeleteClick(scope.row)\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <el-pagination class=\"page\"\n      @size-change=\"onSizeChange\"\n      @current-change=\"onCurrentChange\"\n      :current-page=\"currentPage\"\n      :page-sizes=\"[50, 100, 200, 400]\"\n      :page-size=\"pageSize\"\n      layout=\"total, sizes, prev, pager, next, jumper\"\n      :total=\"total\">\n    </el-pagination>\n    <add-dialog ref=\"addDialog\"\n      @success=\"reFindTableData\"></add-dialog>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      form: {\n        name: '',\n        phone: ''\n      },\n\n      tableHeader: [\n        {\n          title: '序号',\n          name: 'num',\n          width: 80\n        },\n        {\n          title: '客户名称',\n          name: 'name'\n        },\n        {\n          title: '联系电话',\n          name: 'phone'\n        },\n        {\n          title: '客户地址',\n          name: 'address',\n          width: 250\n        },\n        {\n          title: '传真',\n          name: 'fax'\n        }\n      ],\n      tableData: [\n        // {\n        //   name: '章三',\n        //   address: '浙江省余姚市',\n        //   phone: 1585883882,\n        //   fax: '4203-374832'\n        // }\n      ],\n      currentPage: 1,\n      pageSize: 50,\n      total: 0\n    }\n  },\n\n  computed: {},\n\n  mounted() {\n    this.reFindTableData()\n  },\n\n  methods: {\n    searchTableData() {\n      this.currentPage = 1\n      this.reFindTableData()\n    },\n    reFindTableData() {\n      const {\n        pageSize,\n        currentPage,\n        form: { name, phone }\n      } = this\n      this.$db\n        .getData('CUSTOMER_DATA', {\n          pageSize: pageSize,\n          pageIndex: currentPage,\n          search: [\n            { name: 'name', value: name },\n            { name: 'phone', value: phone }\n          ]\n        })\n        .then(res => {\n          this.tableData = res.data.map((item, index) => {\n            item.num = pageSize * (currentPage - 1) + index + 1\n            return item\n          })\n          // .filter(\n          //   (item, index) =>\n          //     index >= pageSize * (currentPage - 1) &&\n          //     index < pageSize * currentPage &&\n          //     (name === '' || name === item.name) &&\n          //     (phone === '' || phone === item.phone)\n          // )\n          this.total = res.total\n        })\n    },\n    onAddClick() {\n      this.$refs.addDialog.show = true\n      this.$refs.addDialog.detail = {}\n    },\n    onEditClick(row) {\n      this.$refs.addDialog.show = true\n      this.$refs.addDialog.detail = row\n    },\n    onDeleteClick(row) {\n      this.$db.deleteData('CUSTOMER_DATA', row.id).then(() => {\n        this.reFindTableData()\n      })\n    },\n    onSizeChange() {\n      this.reFindTableData()\n    },\n    onCurrentChange(value) {\n      this.currentPage = value\n      this.reFindTableData()\n    }\n  },\n\n  components: {\n    addDialog: () => import('./components/addDialog')\n  }\n}\n</script>\n<style lang='scss' scoped>\n.form {\n  * {\n    margin-bottom: 22px;\n  }\n}\n.page {\n  margin-top: 20px;\n  float: right;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=72591bf6&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=72591bf6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"72591bf6\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=72591bf6&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=72591bf6&lang=scss&scoped=true&\""],"sourceRoot":""}